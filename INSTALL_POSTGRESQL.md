# Инструкция по установке PostgreSQL на Windows

## Шаг 1: Скачивание PostgreSQL

1. Перейдите на официальный сайт: https://www.postgresql.org/download/windows/
2. Нажмите на кнопку **"Download the installer"**
3. Выберите версию (рекомендуется последняя стабильная, например 16.x)
4. Скачайте установщик для Windows (x86-64)

## Шаг 2: Установка PostgreSQL

1. Запустите скачанный установщик
2. Нажмите **"Next"** на экране приветствия
3. Выберите директорию установки (по умолчанию `C:\Program Files\PostgreSQL\16`)
4. На экране выбора компонентов оставьте все по умолчанию и нажмите **"Next"**
5. Выберите директорию для данных (по умолчанию `C:\Program Files\PostgreSQL\16\data`)
6. **ВАЖНО**: На экране пароля суперпользователя (postgres):
   - Введите пароль (запомните его! Он понадобится для подключения)
   - Рекомендуется использовать надежный пароль
   - Запишите пароль в безопасном месте
7. Выберите порт (по умолчанию 5432 - оставьте как есть)
8. Выберите локаль (по умолчанию - оставьте как есть)
9. Нажмите **"Next"** и дождитесь завершения установки
10. На последнем экране снимите галочку с "Launch Stack Builder" (не нужно) и нажмите **"Finish"**

## Шаг 3: Проверка установки

1. Откройте **Командную строку** (cmd) или **PowerShell**
2. Проверьте, что PostgreSQL установлен:
   ```bash
   psql --version
   ```
   Должна вывестись версия, например: `psql (PostgreSQL) 16.x`

## Шаг 4: Создание базы данных

1. Откройте **pgAdmin** (должен быть установлен вместе с PostgreSQL) или используйте командную строку
2. **Через командную строку:**
   ```bash
   # Подключитесь к PostgreSQL (потребуется пароль, который вы указали при установке)
   psql -U postgres
   ```
3. Введите пароль суперпользователя
4. Создайте базу данных:
   ```sql
   CREATE DATABASE minsk_jobs_db;
   ```
5. Проверьте, что база создана:
   ```sql
   \l
   ```
   Должна быть видна база `minsk_jobs_db`
6. Выйдите из psql:
   ```sql
   \q
   ```

## Шаг 5: Настройка подключения в проекте

В файле `.env` укажите строку подключения:

```env
DATABASE_URL=postgresql://postgres:ВАШ_ПАРОЛЬ@localhost:5432/minsk_jobs_db
```

Замените `ВАШ_ПАРОЛЬ` на пароль, который вы указали при установке PostgreSQL.

## Альтернатива: Использование Docker (если установлен Docker)

Если у вас установлен Docker, можно использовать PostgreSQL в контейнере:

```bash
docker run --name minsk-jobs-postgres -e POSTGRES_PASSWORD=ваш_пароль -e POSTGRES_DB=minsk_jobs_db -p 5432:5432 -d postgres:16
```

Тогда строка подключения будет:
```env
DATABASE_URL=postgresql://postgres:ваш_пароль@localhost:5432/minsk_jobs_db
```

## Проблемы и решения

### Ошибка "psql не является внутренней или внешней командой"

**Решение**: Добавьте PostgreSQL в PATH:
1. Найдите папку установки PostgreSQL (обычно `C:\Program Files\PostgreSQL\16\bin`)
2. Добавьте её в переменную окружения PATH

### Ошибка подключения "password authentication failed"

**Решение**: Проверьте правильность пароля в `.env` файле

### Ошибка "database does not exist"

**Решение**: Создайте базу данных вручную (см. Шаг 4)

### Порт 5432 занят

**Решение**: Либо остановите другой экземпляр PostgreSQL, либо измените порт в настройках PostgreSQL и обновите `DATABASE_URL` в `.env`

